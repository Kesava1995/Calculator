
<html>
<head>
  <title>CALCULATOR</title>
  <link rel="stylesheet" href="boot1css.css">
  <style>
    #calc {
      background-color: orange;
      padding: 10px;
      color: darkblue;
      border: 2px dashed goldenrod;
      font-size: 40px;
      font-family: Monotype Corsiva;
    }
    #calc:hover {
      background-color: pink;
      border: 2px solid yellow;
    }
	#b1,#b2,#b3,#b4{font-size: 25px;
	padding:5px;}
    input[type="button"] {
      padding: 10px;
      margin: 5px;
      color: white;
      background-color: darkblue;
      border: 1px solid goldenrod;
      font-size: 30px;
      font-family: Monotype Corsiva;
      width: 70px;
    }
    input[type="button"]:hover {
      border: 1px solid yellow;
      color: darkgreen;
      background-color: goldenrod;
    }
    .col-md-6.col-sm-12 {
      background-color: grey;
    }
    .calc-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      justify-items: center;
      background-color: lightgrey;
    }
  </style>
</head>
<body class="container mt-5">
  <div class="mb-4">
    <a href="index.html">
      <input type="button" value="⇐" class="btn btn-secondary">
    </a>
  </div>
  <div class="row justify-content-center">
    <div class="col-md-6 col-sm-12">
      <center>
        <form name="form1" class="text-center p-3 border rounded bg-light shadow-sm">
          <input type="text" id="calc" name="answer" placeholder="Calculate" class="form-control text-center mb-3">
          <div class="calc-grid">
            <input type="button" value="1" onclick="form1.answer.value+=1">
            <input type="button" value="2" onclick="form1.answer.value+=2">
            <input type="button" value="3" onclick="form1.answer.value+=3">
            <input type="button" id="b1" value="PUSH" onclick="GCDpush('calc')">
            <input type="button" value="4" onclick="form1.answer.value+=4">
            <input type="button" value="5" onclick="form1.answer.value+=5">
            <input type="button" value="6" onclick="form1.answer.value+=6">
            <input type="button" id="b2" value="GCD" onclick="display1()">
            <input type="button" value="7" onclick="form1.answer.value+=7">
            <input type="button" value="8" onclick="form1.answer.value+=8">
            <input type="button" value="9" onclick="form1.answer.value+=9">
            <input type="button" id="b3" value="LCM" onclick="display2()">
            <input type="button" value="0" onclick="form1.answer.value+=0">
            <input type="button" value="," onclick="form1.answer.value+=','">
			<input type="button" value="/" onclick="form1.answer.value+='/'">
            <input type="button" id="b4" value="Clear" onclick="clearAll()" class="btn btn-danger">
			<div></div>
          </div>
        </form>
      </center>
    </div>
  </div>
  <script>
var arrn=new Array();
var arrd=new Array(),i,j;

function isNum(str) {
    return /^\d+$/.test(str);
}

function simplify(a,b){
if(a.length==b.length){
flag=1;
var t=0,gcd1=0,lcm1=0;
for(j=0;j<a.length;j++){
var n=a[j];
var d=b[j];
if(a[j]<b[j]){
t=n;
for(var i=1;i<=t;i++){
    if(n%i==0 && d%i==0){
        gcd1=n;
        lcm1=d;
        gcd1=parseInt(n/i);
        lcm1=parseInt(d/i);}
    if(i==t){
        n=gcd1;
        d=lcm1;}}
}
else if(a[j]>b[j]){
t=d;
for(var i=1;i<=t;i++){
    if(n%i==0 && d%i==0){
        gcd1=d;
        lcm1=n;
        lcm1=parseInt(n/i);
        gcd1=parseInt(d/i);}
    if(i==t){
        d=gcd1;
        n=lcm1;}}
}
else if(a[j]==b[j]){
d=1;n=1;
}
a[j]=n;
b[j]=d;
}
}

}

function GCDpush(ele){
var y=document.getElementById(ele).value;
y+=",";
x=-1;
for(i=0;i<y.length;i++){
    if(y[i]=='/'){
        for(j=i+1;j<y.length;j++){
            if(y[j]==','){
				var f=y.slice(x+1,i);
				if(!isNum(f)){
				document.getElementById("err").value="error in input";
				return;
				}
                else arrn.push(parseInt(y.slice(x+1,i)));
				f=y.slice(i+1,j);
				if(!isNum(f)){
				document.getElementById("err").value="error in input";
				return;
				}
                else arrd.push(parseInt(y.slice(i+1,j)));
                x=j;
                break}
            else continue;}}
    else continue;}
simplify(arrn,arrd);
document.getElementById(ele).value='';}

function GCD(...arr){
var a=arr[0],b;
for(var i=1;i<arr.length;i++){
b=arr[i];
while(b>0){
var c=a%b;
a=b;
b=c;
}
}
return a;
}
function LCM(a,b){
var d=(a>b)?a:b;
for(var i=d;true;i++)
{
if((i%a==0)&&(i%b==0))
{
return i;
break;
}
}
}
function LCM1(...arr){
if(arr.length==1){
return arr[0];}
if((arr.length%2)!=0)
arr.push(arr[arr.length-1]);
var arr2=new Array();
for(var i=0;i<(arr.length-1);i=i+2)
{
var c=arr[i];
var d=arr[i+1];
arr2.push(LCM(c,d));
}
return LCM1(...arr2);
}
function display1(){
var n=GCD(...arrn);
var d=LCM1(...arrd);
document.getElementById("calc").value="";
var t=n,gcd1=0,lcm1=0;
for(var i=1;i<=t;i++){
    if(n%i==0 && d%i==0){
        gcd1=n;
        lcm1=d;
        gcd1=parseInt(n/i);
        lcm1=parseInt(d/i);}
    if(i==t){
        n=gcd1;
        d=lcm1;}}
document.getElementById("calc").value+=(n+"/"+d);
}
function display2(){
var n=LCM1(...arrn);
var d=GCD(...arrd);
var t=d,gcd1=0,lcm1=0;
for(var i=1;i<=t;i++){
    if(n%i==0 && d%i==0){
        gcd1=d;
        lcm1=n;
        lcm1=parseInt(n/i);
        gcd1=parseInt(d/i);}
    if(i==t){
        d=gcd1;
        n=lcm1;}}
document.getElementById("calc").value="";
document.getElementById("calc").value+=(n+"/"+d);
}
function clearAll(){
document.getElementById("calc").value="";
document.getElementById("err").value="";
arrn=new Array();arrd=new Array();}
</script>
</body>
</html>
